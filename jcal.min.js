/*
@author: Tadele Meshesha
@creationDate: 06/12/2016
@version: 1.0.1
@authorEmail: meshesha1@gmail.com
@license: GPL2
*/ 
!function(a){a.fn.extend({jcal:function(b){function y(a){var b;return b=window.getComputedStyle?window.getComputedStyle(a,null).getPropertyValue("direction"):a.currentStyle.direction}function C(a,c){if("gre"==b.cal)return 2===a?3&c||!(c%25)&&15&c?28:29:30+(a+(a>>3)&1);if("jewish"==b.cal){var d=T(c,a);return d}}function D(c,d){"gre"==b.cal&&("en"==b.lang?Number(f)<250?monthNames=l:monthNames=m:"he"==b.lang&&(Number(f)<250?monthNames=n:monthNames=o)),c==h&&d==i&&(a("#"+e+" .jcal-reset").remove(),a("#"+e+" .jcal-today-button").addClass("jcal-state-default jcal-state-disabled").attr("disabled","disabled")),a("#"+e).data("setMonth",c).data("setYear",d);var p,q,g=C(c,d);if("gre"==b.cal)p=c-1,q=new Date(d,p,1,0,0,0,0).getDay();else if("jewish"==b.cal){p=c;var r=Q(d,p,1),s=new R(r);q=s.day}a("#"+e+" .jcal-day, #"+e+" .jcal-day-blank").remove(),a("#"+e+" .jcal-event-list").empty(),a("#"+e+" .jcal-day-wrap").empty();for(var u=0;u<g;u++){var y,z,A,w=u+1;if("gre"==b.cal)y=new Date(d,p,w,0,0,0,0).getDay(),z=G(d,p,w)?"_isShabat":"",A=H(d,c,w);else if("jewish"==b.cal){var B=Q(d,p,w),D=new R(B);y=D.day,z=G(d,p,w)?"_isShabat":"",A=I(d,c,w)}"gre"==b.cal?"he"==b.lang&&(a("#"+e+" .jcal-day-wrap").append('<div class="jcals jcal-day jcal-day-event" id="jcal-day_'+x+z+'" data-number="'+w+'"><div class="jcal-day-number">'+w+'</div><div class="jcal-indicator-wrap"><div id="jcal-events-counter-'+w+'" data-count="0"></div></div><div class="jcal-more-events">עוד...</div></div>'),a("#"+e+" .jcal-event-list").append('<div class="jcal-list-item-rtl jcal-week-'+A+'" id="'+e+"day"+w+'" data-number="'+w+'"><div class="jcal-event-list-date-rtl">'+t[y]+"<br>"+w+"</div></div>")):"jewish"==b.cal&&"he"==b.lang&&(a("#"+e+" .jcal-day-wrap").append('<div class="jcals jcal-day jcal-day-event" id="jcal-day_'+x+z+'" data-number="'+w+'"><div class="jcal-day-number">'+v.format(w)+'</div><div class="jcal-indicator-wrap"><div id="jcal-events-counter-'+w+'" data-count="0"></div></div><div class="jcal-more-events">עוד...</div></div>'),a("#"+e+" .jcal-event-list").append('<div class="jcal-list-item-rtl jcal-week-'+A+'" id="'+e+"day"+w+'" data-number="'+w+'"><div class="jcal-event-list-date-rtl">'+t[y]+"<br>"+v.format(w)+"</div></div>")),"en"==b.lang&&(a("#"+e+" .jcal-day-wrap").append('<div class="jcals jcal-day jcal-day-event" id="jcal-day_'+x+z+'" data-number="'+w+'"><div class="jcal-day-number">'+w+'</div><div class="jcal-indicator-wrap"><div id="jcal-events-counter-'+w+'" data-count="0"></div></div><div class="jcal-more-events">more...</div></div>'),a("#"+e+" .jcal-event-list").append('<div class="jcal-list-item jcal-week-'+A+'" id="'+e+"day"+w+'" data-number="'+w+'"><div class="jcal-event-list-date">'+dayNames[y]+"<br>"+w+"</div></div>"))}a("#"+e+" .jcal-more-events").hide();var F=a("#"+e).data("setMonth"),J=a("#"+e).data("setYear");F==h&&J==i&&a("#"+e+' *[data-number="'+j+'"]').addClass("jcal-today");var K,L,M;if(F==h&&J==i?"gre"==b.cal?a("#"+e+" .jcal-toolbar-title-date").html(monthNames[c-1]+" "+d):"jewish"==b.cal&&("en"==b.lang?(K=E(c,d,"en"),a("#"+e+" .jcal-toolbar-title-date").html(K+" "+d)):"he"==b.lang&&(L=v.format(d),M=E(c,d,"he"),a("#"+e+" .jcal-toolbar-title-date").html(M+" ה"+L))):"gre"==b.cal?b.buttons?"en"==b.lang?(a("#"+e+" .jcal-toolbar").html('<div class="jcal-left"><button class="jcal-button jcal-corner-left jcal-button-left" title="Previous month"><span class="jcal-icon jcal-icon-left-single-arrow"></span></button><button class="jcal-today-button jcal-button jcal-corner-left jcal-corner-righ">today</button></div><div class="jcal-center"><div class="jcal-toolbar-title-date" id="jcal-toolbar-title-date_'+x+'">'+monthNames[c-1]+" "+d+'</div><button class="jcal-month-button jcal-button jcal-corner-left">month</button><button class="jcal-list-button jcal-button  jcal-corner-right">list</button></div><div class="jcal-right"><button class="jcal-button jcal-corner-right jcal-button-right" title="Next month"><span class="jcal-icon jcal-icon-right-single-arrow"></span></button></div>'),"monthMode"==k?(a("#"+e+" .jcal-month-button").addClass("jcal-state-default jcal-state-disabled").attr("disabled","disabled"),a("#"+e+" .jcal-list-button").removeClass("jcal-state-default jcal-state-disabled").removeAttr("disabled")):(a("#"+e+" .jcal-list-button").addClass("jcal-state-default jcal-state-disabled").attr("disabled","disabled"),a("#"+e+" .jcal-month-button").removeClass("jcal-state-default jcal-state-disabled").removeAttr("disabled"))):"he"==b.lang&&(a("#"+e+" .jcal-toolbar").html('<div class="jcal-left"><button class="jcal-button jcal-corner-left jcal-button-right" title="חודש הבא"><span class="jcal-icon jcal-icon-left-single-arrow"></span></button><button class="jcal-today-button jcal-button jcal-corner-left jcal-corner-righ ">היום</button></div><div class="jcal-center"><div class="jcal-toolbar-title-date" id="jcal-toolbar-title-date_'+x+'">'+monthNames[c-1]+" "+d+'</div><button class="jcal-month-button jcal-button jcal-state-default jcal-corner-left jcal-state-disabled">חודש</button><button class="jcal-list-button jcal-button  jcal-corner-right">רשימה</button></div><div class="jcal-right"><button class="jcal-button jcal-corner-right jcal-button-left" title="חודש קודם"><span class="jcal-icon jcal-icon-right-single-arrow"></span></button></div>'),"monthMode"==k?(a("#"+e+" .jcal-month-button").addClass("jcal-state-default jcal-state-disabled").attr("disabled","disabled"),a("#"+e+" .jcal-list-button").removeClass("jcal-state-default jcal-state-disabled").removeAttr("disabled")):(a("#"+e+" .jcal-list-button").addClass("jcal-state-default jcal-state-disabled").attr("disabled","disabled"),a("#"+e+" .jcal-month-button").removeClass("jcal-state-default jcal-state-disabled").removeAttr("disabled"))):"en"==b.lang?(a("#"+e+" .jcal-toolbar").html('<div class="jcal-left"><span class="jcal-prev jcal-icon jcal-icon-left-single-arrow"></span><span class="jcal-reset jcal-icon-down-triangle" id="jcal-reset_'+x+'" title="Set to today"></span></div><div class="jcal-center"><div class="jcal-toolbar-title-date" id="jcal-toolbar-title-date_'+x+'">'+monthNames[c-1]+" "+d+'</div><span class="jcal-list-month" id="jcal-reset_'+x+'" title=""></span></div><div class="jcal-right"><span class="jcal-next jcal-icon jcal-icon-right-single-arrow"></span></div>'),"monthMode"==k?a("#"+e+" .jcal-list-month").addClass("jcal-icon-list").removeClass("jcal-icon-month").attr("title","List view"):a("#"+e+" .jcal-list-month").addClass("jcal-icon-month").removeClass("jcal-icon-list").attr("title","Month view")):"he"==b.lang&&(a("#"+e+" .jcal-toolbar").html('<div class="jcal-left"><span class="jcal-next jcal-icon jcal-icon-left-single-arrow" title="חודש הבא"></span><span class="jcal-reset jcal-icon-down-triangle" id="jcal-reset_'+x+'" title="חזור לחודש הנוכחי"></span></div><div class="jcal-center"><div class="jcal-toolbar-title-date" id="jcal-toolbar-title-date_'+x+'">'+monthNames[c-1]+" "+d+'</div><span class="jcal-list-month jcal-icon-list" id="jcal-reset_'+x+'" title="תצוגת רשימה"></span></div><div class="jcal-right"><span class="jcal-prev jcal-icon jcal-icon-right-single-arrow" title="חודש קודם"></span></div>'),"monthMode"==k?a("#"+e+" .jcal-list-month").addClass("jcal-icon-list").removeClass("jcal-icon-month").attr("title","תצוגת רשימה"):a("#"+e+" .jcal-list-month").addClass("jcal-icon-month").removeClass("jcal-icon-list").attr("title","תצוגת חודש")):"jewish"==b.cal&&(b.buttons?"en"==b.lang?(K=E(c,d,"en"),a("#"+e+" .jcal-toolbar").html('<div class="jcal-left"><button class="jcal-button jcal-corner-left jcal-button-left" title="Previous month"><span class="jcal-icon jcal-icon-left-single-arrow"></span></button><button class="jcal-today-button jcal-button jcal-corner-left jcal-corner-righ ">today</button></div><div class="jcal-center"><div class="jcal-toolbar-title-date" id="jcal-toolbar-title-date_'+x+'">'+K+" "+d+'</div><button class="jcal-month-button jcal-button jcal-corner-left">month</button><button class="jcal-list-button jcal-button  jcal-corner-right">list</button></div><div class="jcal-right"><button class="jcal-button jcal-corner-right jcal-button-right" title="Next month"><span class="jcal-icon jcal-icon-right-single-arrow"></span></button></div>'),"monthMode"==k?(a("#"+e+" .jcal-month-button").addClass("jcal-state-default jcal-state-disabled").attr("disabled","disabled"),a("#"+e+" .jcal-list-button").removeClass("jcal-state-default jcal-state-disabled").removeAttr("disabled")):(a("#"+e+" .jcal-list-button").addClass("jcal-state-default jcal-state-disabled").attr("disabled","disabled"),a("#"+e+" .jcal-month-button").removeClass("jcal-state-default jcal-state-disabled").removeAttr("disabled"))):"he"==b.lang&&(L=v.format(d),M=E(c,d,"he"),a("#"+e+" .jcal-toolbar").html('<div class="jcal-left"><button class="jcal-button jcal-corner-left jcal-button-right" title="חודש הבא"><span class="jcal-icon jcal-icon-left-single-arrow"></span></button><button class="jcal-today-button jcal-button jcal-corner-left jcal-corner-righ ">היום</button></div><div class="jcal-center"><div class="jcal-toolbar-title-date" id="jcal-toolbar-title-date_'+x+'">'+M+" ה"+L+'</div><button class="jcal-month-button jcal-button jcal-corner-left">month</button><button class="jcal-list-button jcal-button  jcal-corner-right">list</button></div><div class="jcal-right"><button class="jcal-button jcal-corner-right jcal-button-left" title="חודש קודם"><span class="jcal-icon jcal-icon-right-single-arrow"></span></button></div>'),"monthMode"==k?(a("#"+e+" .jcal-month-button").addClass("jcal-state-default jcal-state-disabled").attr("disabled","disabled"),a("#"+e+" .jcal-list-button").removeClass("jcal-state-default jcal-state-disabled").removeAttr("disabled")):(a("#"+e+" .jcal-list-button").addClass("jcal-state-default jcal-state-disabled").attr("disabled","disabled"),a("#"+e+" .jcal-month-button").removeClass("jcal-state-default jcal-state-disabled").removeAttr("disabled"))):"en"==b.lang?(K=E(c,d,"en"),a("#"+e+" .jcal-toolbar").html('<div class="jcal-left"><span class="jcal-prev jcal-icon jcal-icon-left-single-arrow"></span><span class="jcal-reset jcal-icon-down-triangle" id="jcal-reset_'+x+'" title="Set to today"></span></div><div class="jcal-center"><div class="jcal-toolbar-title-date" id="jcal-toolbar-title-date_'+x+'">'+K+" "+d+'</div><span class="jcal-list-month jcal-icon-list" id="jcal-reset_'+x+'" title="List view"></span></div><div class="jcal-right"><span class="jcal-next jcal-icon jcal-icon-right-single-arrow"></span></div>'),"monthMode"==k?a("#"+e+" .jcal-list-month").addClass("jcal-icon-list").removeClass("jcal-icon-month").attr("title","List view"):a("#"+e+" .jcal-list-month").addClass("jcal-icon-month").removeClass("jcal-icon-list").attr("title","Month view")):"he"==b.lang&&(L=v.format(d),M=E(c,d,"he"),a("#"+e+" .jcal-toolbar").html('<div class="jcal-left"><span class="jcal-next jcal-icon jcal-icon-left-single-arrow" title="חודש הבא"></span><span class="jcal-reset jcal-icon-down-triangle" id="jcal-reset_'+x+'" title="חזור לחודש הנוכחי"></span></div><div class="jcal-center"><div class="jcal-toolbar-title-date" id="jcal-toolbar-title-date_'+x+'">'+M+" ה"+L+'</div><span class="jcal-list-month jcal-icon-list" id="jcal-reset_'+x+'" title="תצוגת רשימה"></span></div><div class="jcal-right"><span class="jcal-prev jcal-icon jcal-icon-right-single-arrow" title="חודש קודם"></span></div>'),"monthMode"==k?a("#"+e+" .jcal-list-month").addClass("jcal-icon-list").removeClass("jcal-icon-month").attr("title","תצוגת רשימה"):a("#"+e+" .jcal-list-month").addClass("jcal-icon-month").removeClass("jcal-icon-list").attr("title","תצוגת חודש"))),7!=q)for(var u=0;u<q;u++)a("#"+e+" .jcal-day-wrap").prepend('<div class="jcals jcal-day-blank" id="jcal-day-blank_'+x+'"><div class="jcal-day-number"></div></div>');var N=a("#"+e+" .jcal-day").length,O=a("#"+e+" .jcal-day-blank").length,P=N+O,S=7*Math.ceil(P/7),T=S-P;if(P%7!=0)for(var u=0;u<T;u++)a("#"+e+" .jcal-day-wrap").append('<div class="jcals jcal-day-blank"  id="jcal-day-blank_'+x+'"><div class="jcal-day-number"></div></div>');var U=function(c){function E(){var c="";if("12h"==b.timeFormat){if(v){var d='<div><div class="jcal-list-time-start">'+v+" "+A+"</div>",f="";if(x)var f='<div class="jcal-list-time-end">'+x+" "+B+"</div>";var c=d+f+"</div>"}}else if(v){var d='<div><div class="jcal-list-time-start">'+C+"</div>",f="";if(x)var f='<div class="jcal-list-time-end">'+D+"</div>";var c=d+f+"</div>"}"en"==b.lang?a("#"+e+' .jcal-list-item[data-number="'+O+'"]').addClass("item-has-event").append('<a href="'+p+'" class="listed-event" id="listed-event-'+r+'"  data-eventid="'+u+'" style="background:'+s+";color:"+t+'" title="'+q+'">'+q+" "+c+"</a>"):"he"==b.lang&&a("#"+e+' .jcal-list-item-rtl[data-number="'+O+'"]').addClass("item-has-event").append('<a href="'+p+'" class="listed-event" id="listed-event-'+r+'"  data-eventid="'+u+'" style="background:'+s+";color:"+t+'" title="'+q+'">'+q+" "+c+"</a>")}if("xml"==b.dataType)var d=a(c).find("startdate").text(),f=d.split("-"),h=f[0],i=parseInt(f[1],10),j=parseInt(f[2],10),k=a(c).find("enddate").text(),l=k.split("-"),m=l[0],n=parseInt(l[1],10),o=parseInt(l[2],10),p=a(c).find("url").text(),q=a(c).find("name").text(),r=a(c).find("type").text(),s=a(c).find("bgcolor").text(),t=a(c).find("color").text(),u=a(c).find("id").text(),v=a(c).find("starttime").text(),w=v.split(":"),x=a(c).find("endtime").text(),y=x.split(":"),A="AM",B="AM",C=v,D=x;else if("php"==b.dataType||"json"==b.dataType)var d=c.startdate,f=d.split("-"),h=f[0],i=parseInt(f[1],10),j=parseInt(f[2],10),k=c.enddate,l=k.split("-"),m=l[0],n=parseInt(l[1],10),o=parseInt(l[2],10),p=c.url,q=c.name,r=c.type,s=c.bgcolor,t=c.color,u=c.id,v=c.starttime,w=v.split(":"),x=c.endtime,y=x.split(":"),A="AM",B="AM",C=v,D=x;if(parseInt(w[0])>=12)var v=w[0]-12+":"+w[1],A="PM";if(0==parseInt(v))var v="12:"+w[1];if(parseInt(y[0])>=12)var x=y[0]-12+":"+y[1],B="PM";if(0==parseInt(x))var x="12:"+y[1];if(p);if(k||i!=F||h!=J){if(i==F&&h==J&&n==F&&m==J)for(var O=parseInt(j);O<=parseInt(o);O++){if(O==parseInt(j)){var G=a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).data("count"),H=Number(G)+1;if(a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).data("count",H),a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).attr("data-count",H),G<Number(b.eventNum))a("#"+e+' *[data-number="'+O+'"] .jcal-indicator-wrap').append('<div class="jcal-event-indicator" id="jcal-event-indicator-'+r+'" data-eventid="'+u+'" style="background:'+s+";color:"+t+'" title="'+q+'">'+q+"</div>");else{var K,I=H-Number(b.eventNum);"en"==b.lang?K=I+" more...":"he"==b.lang&&(K="עוד "+I+"..."),a("#"+e+' *[data-number="'+O+'"] .jcal-more-events').html(K).show()}}else{var G=a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).data("count"),H=Number(G)+1;if(a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).data("count",H),a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).attr("data-count",H),G<Number(b.eventNum))a("#"+e+' *[data-number="'+O+'"] .jcal-indicator-wrap').append('<div class="jcal-event-indicator" id="jcal-event-indicator-'+r+'" data-eventid="'+u+'" style="background:'+s+";color:"+t+'" title="'+q+'">'+q+"</div>");else{var K,I=H-Number(b.eventNum);"en"==b.lang?K=I+" more...":"he"==b.lang&&(K="עוד "+I+"..."),a("#"+e+' *[data-number="'+O+'"] .jcal-more-events').html(K).show()}}E()}else if(n==F&&m==J&&(i<F&&h==J||h<J))for(var O=0;O<=parseInt(o);O++){if(1==O){var G=a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).data("count"),H=Number(G)+1;if(a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).data("count",H),a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).attr("data-count",H),G<Number(b.eventNum))a("#"+e+' *[data-number="'+O+'"] .jcal-indicator-wrap').append('<div class="jcal-event-indicator" id="jcal-event-indicator-'+r+'" data-eventid="'+u+'" style="background:'+s+";color:"+t+'" title="'+q+'">'+q+"</div>");else{var I=H-Number(b.eventNum);"en"==b.lang?K=I+" more...":"he"==b.lang&&(K="עוד "+I+"..."),a("#"+e+' *[data-number="'+O+'"] .jcal-more-events').html(K).show()}}else{var G=a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).data("count"),H=Number(G)+1;if(a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).data("count",H),a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).attr("data-count",H),G<Number(b.eventNum))a("#"+e+' *[data-number="'+O+'"] .jcal-indicator-wrap').append('<div class="jcal-event-indicator" id="jcal-event-indicator-'+r+'" data-eventid="'+u+'" style="background:'+s+";color:"+t+'" title="'+q+'">'+q+"</div>");else{var I=H-Number(b.eventNum);"en"==b.lang?K=I+" more...":"he"==b.lang&&(K="עוד "+I+"..."),a("#"+e+' *[data-number="'+O+'"] .jcal-more-events').html(K).show()}}E()}else if(i==F&&h==J&&(n>F&&m==J||m>J))for(var O=parseInt(j);O<=g;O++){if(O==parseInt(j)){var G=a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).data("count"),H=Number(G)+1;if(a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).data("count",H),a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).attr("data-count",H),G<Number(b.eventNum))a("#"+e+' *[data-number="'+O+'"] .jcal-indicator-wrap').append('<div class="jcal-event-indicator" id="jcal-event-indicator-'+r+'" data-eventid="'+u+'" style="background:'+s+";color:"+t+'" title="'+q+'">'+q+"</div>");else{var I=H-Number(b.eventNum);"en"==b.lang?K=I+" more...":"he"==b.lang&&(K="עוד "+I+"..."),a("#"+e+' *[data-number="'+O+'"] .jcal-more-events').html(K).show()}}else{var G=a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).data("count"),H=Number(G)+1;if(a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).data("count",H),a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).attr("data-count",H),G<Number(b.eventNum))a("#"+e+' *[data-number="'+O+'"] .jcal-indicator-wrap').append('<div class="jcal-event-indicator" id="jcal-event-indicator-'+r+'" data-eventid="'+u+'" style="background:'+s+";color:"+t+'" title="'+q+'">'+q+"</div>");else{var I=H-Number(b.eventNum);"en"==b.lang?K=I+" more...":"he"==b.lang&&(K="עוד "+I+"..."),a("#"+e+' *[data-number="'+O+'"] .jcal-more-events').html(K).show()}}E()}else if((i<F&&h==J||h<J)&&(n>F&&m==J||m>J))for(var O=0;O<=g;O++){if(1==O){var G=a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).data("count"),H=Number(G)+1;if(a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).data("count",H),a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).attr("data-count",H),G<Number(b.eventNum))a("#"+e+' *[data-number="'+O+'"] .jcal-indicator-wrap').append('<div class="jcal-event-indicator" id="jcal-event-indicator-'+r+'" data-eventid="'+u+'" style="background:'+s+";color:"+t+'" title="'+q+'">'+q+"</div>");else{var I=H-Number(b.eventNum);"en"==b.lang?K=I+" more...":"he"==b.lang&&(K="עוד "+I+"..."),a("#"+e+' *[data-number="'+O+'"] .jcal-more-events').html(K).show()}}else{var G=a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).data("count"),H=Number(G)+1;if(a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).data("count",H),a("#"+e+' *[data-number="'+O+'"] #jcal-events-counter-'+O).attr("data-count",H),G<Number(b.eventNum))a("#"+e+' *[data-number="'+O+'"] .jcal-indicator-wrap').append('<div class="jcal-event-indicator" id="jcal-event-indicator-'+r+'" data-eventid="'+u+'" style="background:'+s+";color:"+t+'" title="'+q+'">'+q+"</div>");else{var I=H-Number(b.eventNum);"en"==b.lang?K=I+" more...":"he"==b.lang&&(K="עוד "+I+"..."),a("#"+e+' *[data-number="'+O+'"] .jcal-more-events').html(K).show()}}E()}}else{var G=a("#"+e+' *[data-number="'+j+'"] #jcal-events-counter-'+j).data("count"),H=Number(G)+1;if(a("#"+e+' *[data-number="'+j+'"] #jcal-events-counter-'+j).data("count",H),a("#"+e+' *[data-number="'+j+'"] #jcal-events-counter-'+j).attr("data-count",H),G<Number(b.eventNum))a("#"+e+' *[data-number="'+j+'"] .jcal-indicator-wrap').append('<div class="jcal-event-indicator" id="jcal-event-indicator-'+r+'"  data-eventid="'+u+'" style="background:'+s+";color:"+t+'" title="'+q+'">'+q+"</div>");else{var K,I=H-Number(b.eventNum);"en"==b.lang?K=I+" more...":"he"==b.lang&&(K="עוד "+I+"..."),a("#"+e+' *[data-number="'+j+'"] .jcal-more-events').html(K).show()}var L="";if(v){var M='<div><div class="jcal-list-time-start">'+v+" "+A+"</div>",N="";if(x)var N='<div class="jcal-list-time-end">'+x+" "+B+"</div>";var L=M+N+"</div>"}"en"==b.lang?a("#"+e+' .jcal-list-item[data-number="'+j+'"]').addClass("item-has-event").append('<a href="'+p+'" class="listed-event" id="listed-event-'+r+'"  data-eventid="'+u+'" style="background:'+s+";color:"+t+'"  title="'+q+'">'+q+" "+L+"</a>"):"he"==b.lang&&a("#"+e+' .jcal-list-item-rtl[data-number="'+j+'"]').addClass("item-has-event").append('<a href="'+p+'" class="listed-event" id="listed-event-'+r+'"  data-eventid="'+u+'" style="background:'+s+";color:"+t+'" title="'+q+'">'+q+" "+L+"</a>")}};if("xml"==b.dataType||"json"==b.dataType)a.get(""+b.url,{now:jQuery.now()},function(c){"xml"==b.dataType?a(c).find("event").each(function(a,b){U(b)}):"json"==b.dataType&&a.each(c.jcal,function(a,b){U(b)})},b.dataType).fail(function(){console.error("Jcal.js failed to import "+b.url+". Please check for the correct path & "+b.dataType+" syntax.")});else if("php"==b.dataType)if("joomla"==b.phpPlatform){var V={option:"com_ajax",module:b.moduleName,data:c+"AND"+d,method:"getCreateJson",format:"raw"};jQuery.ajax({type:"POST",data:V,success:function(b){var c=jQuery.parseJSON(b);a.each(c.jcal,function(a,b){U(b)})}})}else jQuery.ajax({type:"POST",url:b.url,data:c+"AND"+d,success:function(b){var c=jQuery.parseJSON(b);a.each(c.jcal,function(a,b){U(b)})}});for(var W=a("#"+e+" .jcals"),X=1,u=0;u<W.length;u+=7)W.slice(u,u+7).wrapAll("<div class='jcal-week' data-week='"+X+"'></div>"),X++;b.jQueryui&&(a("#"+e).addClass("ui-widget"),a("#"+e+" .jcal-header").addClass("ui-widget-header"),a("#"+e+" .jcal-day-title-wrap").addClass("ui-widget-header"),"en"==b.lang?(a("#"+e+" .jcal-button-right").addClass("ui-button ui-corner-right"),a("#"+e+" .jcal-button-left").addClass("ui-button ui-corner-left")):"he"==b.lang&&(a("#"+e+" .jcal-button-right").addClass("ui-button ui-corner-left"),a("#"+e+" .jcal-button-left").addClass("ui-button ui-corner-right")),a("#"+e+" .jcal-today-button").addClass("ui-button ui-corner-right ui-corner-left"),a("#"+e+" .jcal-reset").addClass("ui-widget-header ui-corner-right ui-corner-left"),a("#"+e+" .jcal-list-month").addClass("ui-widget-header ui-corner-right ui-corner-left"),a("#"+e+" .jcal-month-button").addClass("ui-button ui-corner-left"),a("#"+e+" .jcal-list-button").addClass("ui-button ui-corner-right"),c==h&&d==i&&a("#"+e+" .jcal-today-button").addClass("ui-state-disabled"),"monthMode"==k?(a("#"+e+" .jcal-month-button").addClass("ui-state-disabled"),a("#"+e+" .jcal-list-button").removeClass("ui-state-disabled")):(a("#"+e+" .jcal-list-button").addClass("ui-state-disabled"),a("#"+e+" .jcal-month-button").removeClass("ui-state-disabled")),a("#"+e+" .jcal-day").addClass("ui-widget-content"),a("#"+e+" .jcal-list-item").addClass("ui-widget-content"))}function E(a,b,c){var d=["Tishrei","Cheshvan","Kislev","Tevet","Shevat","","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul"],e=["Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar A","Adar B","Nisan","Iyar","Sivan","Tamuz","Av","Elul"],f=["תשרי","חשוון","כסלו","טבת","שבט","","אדר","ניסן","אייר","סיוון","תמוז","אב","אלול"],g=["תשרי","חשוון","כסלו","טבת","שבט","אדר א'","אדר ב'","ניסן","אייר","סיוון","תמוז","אב","אלול"],h=F(b);return"en"==c&&h?e[Number(a)-1]:"en"!=c||h?"he"==c&&h?g[Number(a)-1]:"he"!=c||h?void 0:f[Number(a)-1]:d[Number(a)-1]}function F(a){var b=a%19;return 3==b||6==b||8==b||11==b||14==b||17==b||0==b}function G(a,c,d){var e,f=b.cal;if("gre"==f)return e=new Date(Number(a),Number(c),Number(d)).getDay(),6==e;if("jewish"==f){var g=Q(Number(a),Number(c),Number(d)),h=new R(g);return e=h.day,6==e}}function H(a,b,c){var d=new Date(a,b-1,c),e=new Date(a,b-1,1).getDay();return Math.ceil((d.getDate()+e)/7)}function I(a,b,c){var d=Q(a,b,1),e=new R(d),f=e.day,g=Q(a,b,c),h=new R(g),i=h.d;return Math.ceil((i+f)/7)}function J(b){var c=a("#"+e).data("setMonth"),d=a("#"+e).data("setYear");if("jewish"==b){var f=F(d);if(13==c){var g=1,h=d+1;D(g,h)}else if(5!=c||f){var g=c+1,h=d;D(g,h)}else{var g=c+2,h=d;D(g,h)}}else if("gre"==b)if(12==c){var g=1,h=d+1;D(g,h)}else{var g=c+1,h=d;D(g,h)}}function K(b){var c=a("#"+e).data("setMonth"),d=a("#"+e).data("setYear");if("jewish"==b){var f=F(d);if(1==c){var g=13,h=d-1;D(g,h)}else if(7!=c||f){var g=c-1,h=d;D(g,h)}else{var g=c-2,h=d;D(g,h)}}else if("gre"==b)if(1==c){var g=12,h=d-1;D(g,h)}else{var g=c-1,h=d;D(g,h)}}function L(c,d){a("#"+e+" .jcal-event-list").show(),a("#"+e+" .jcal-event-list").css("transform"),a("#"+e+" .jcal-event-list").css("transform","scale(1)"),"en"==b.lang?a("#"+e+" .jcal-list-item").hide():"he"==b.lang&&a("#"+e+" .jcal-list-item-rtl").hide(),a("#"+e+"day"+c).show(),b.buttons?b.jQueryui?(a("#"+e+" .jcal-list-button").addClass("ui-state-disabled").attr("disabled","disabled"),a("#"+e+" .jcal-month-button").removeClass("ui-state-disabled").removeAttr("disabled")):(a("#"+e+" .jcal-list-button").addClass("jcal-state-default jcal-state-disabled").attr("disabled","disabled"),a("#"+e+" .jcal-month-button").removeClass("jcal-state-default jcal-state-disabled").removeAttr("disabled")):a("#"+e+" .jcal-list-month").addClass("jcal-icon-month").removeClass("jcal-icon-list").attr("title",d),a("#"+e+" .jcal-right").hide(),a("#"+e+" .jcal-left").hide()}function M(a){a.slice().sort(function(a,b){return b[1].length-a[1].length});return{format:function(b){var c="";return jQuery.each(a,function(){var a=this[0];if(parseInt(a)>0)for(;b>=a;b-=a)c+=this[1];else c=c.replace(a,this[1])}),c}}}function N(a){var b;return a--,b=235*Math.floor(a/19),a%=19,b+=12*a,a>=17?b+=6:a>=14?b+=5:a>=11?b+=4:a>=8?b+=3:a>=6?b+=2:a>=3&&(b+=1),b}function O(a){var b,c,d,e,f,g;return b=N(a),c=793*b,c+=204,d=Math.floor(c/1080),c%=1080,d+=12*b,d+=5,e=Math.floor(d/24),d%=24,e+=29*b,e+=2,f=e%7,!F(a)&&3==f&&1080*d+c>=9924?(f=5,e+=2):F(a-1)&&2==f&&1080*d+c>=16789?(f=3,e+=1):(d>=18&&(f+=1,f%=7,e+=1),1!=f&&4!=f&&6!=f||(f+=1,f%=7,e+=1)),e-=2067025,g=new Date(1900,0,1),g.setDate(g.getDate()+e),g}function P(a){var b,c,d;return b=O(a),c=O(a+1),d=(c-b)/864e5,Math.round(d)}function Q(a,b,c){var d,e,f,g,h,i,j;for(e=F(a),d=P(a),i=353==d||383==d,j=355==d||385==d,f=O(a),g=1;g<=b-1;g++)1==g||5==g||8==g||10==g||12==g?h=30:4==g||7==g||9==g||11==g||13==g?h=29:6==g?h=e?30:0:2==g?h=j?30:29:3==g&&(h=i?29:30),f.setDate(f.getDate()+h);return f.setDate(f.getDate()+c-1),f}function R(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o=new Date(1900,0,1);if(e=29.5+793/25920,f=e*(235/19),g=Math.round((a-o)/864e5),g+=2067025,b=Math.floor(g/f)+1,h=O(b),S(h,a))c=1,d=1;else{if(h<a)for(;O(b+1)<=a;)b+=1;else for(b-=1;O(b)>a;)b-=1;g=(a-O(b))/864e5,g=Math.round(g),i=P(b),k=353==i||383==i,l=355==i||385==i,j=F(b),c=1;do{switch(c){case 1:case 5:case 6:case 8:case 10:case 12:m=30;break;case 4:case 7:case 9:case 11:case 13:m=29;break;case 6:m=30;break;case 2:m=l?30:29;break;case 3:m=k?29:30}g>=m?(n=!0,j||5!=c?c++:c+=2,g-=m):n=!1}while(n);d=g+1}var p=a.getDay();return{d:d,m:c,y:b,day:p}}function S(a,b){return a.getFullYear()==b.getFullYear()&&a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()}function T(a,b){var c,d,e,f,g;return d=F(a),c=P(a),f=353==c||383==c,g=355==c||385==c,1==b||5==b||8==b||10==b||12==b?e=30:4==b||7==b||9==b||11==b||13==b?e=29:6==b?e=d?30:0:2==b?e=g?30:29:3==b&&(e=f?29:30),e}var d,c={cal:"gre",lang:"en",caldate:!1,dataType:"xml",url:"",phpPlatform:"",moduleName:"",eventNum:"2",maxWidth:!1,setWidth:!1,buttons:!1,jQueryui:!1,timeFormat:"12h",monthToView:!1},b=a.extend(c,b);d=0!=b.caldate?new Date(b.caldate):new Date;var e=a(this).attr("id"),f=a("#"+e).width(),g="en"==b.lang?"ltr":"rtl",h=d.getMonth()+1,i=d.getFullYear(),j=d.getDate(),k="monthMode",l=b.monthNames||["Jan","Feb","Mar","Apr","May","June","Jul","Aug","Sep","Oct","Nov","Dec"],m=b.monthNames||["January","February","March","April","May","June","July","August","September","October","November","December"],n=b.monthNames||["ינו'","פבר'","מרץ","אפר'","מאי","יוני","יולי","אוג'","ספט'","אוק'","נוב'","דצמ'"],o=b.monthNames||["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],q=(b.shortMonthNames||["Ja","Fe","Mr","Ap","My","Jn","Jl","Ag","Sp","Oc","No","De"],b.dayNames||["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),r=b.dayNames||["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=b.dayNames||["א'","ב'","ג'","ד'","ה'","ו'","שבת"],t=b.dayNames||["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],u=b.shortDayNames||["Su","Mo","Tu","We","Th","Fr","Sa"],v=M([[1e3,""],[400,"ת"],[300,"ש"],[200,"ר"],[100,"ק"],[90,"צ"],[80,"פ"],[70,"ע"],[60,"ס"],[50,"נ"],[40,"מ"],[30,"ל"],[20,"כ"],[10,"י"],[9,"ט"],[8,"ח"],[7,"ז"],[6,"ו"],[5,"ה"],[4,"ד"],[3,"ג"],[2,"ב"],[1,"א"],[/יה/,"ט״ו"],[/יו/,"ט״ז"],[/([א-ת])([א-ת])$/,"$1״$2"],[/^([א-ת])$/,"$1׳"]]);a("#"+e).hasClass("jcal")||a("#"+e).addClass("jcal");var x,w=e.indexOf("jewish_calander_cal_container_")!=-1;x=w?e.split("_")[4]:e;var z=y(a(this)[0]);if("rtl"==z&&a("#"+e).attr("dir","ltr"),0!=b.maxWidth&&a("#"+e).css("maxWidth",b.maxWidth),0!=b.setWidth&&a("#"+e).css("width",b.setWidth),"en"==b.lang?Number(f)<217?dayNames=u:Number(f)>217&&Number(f)<470?dayNames=q:dayNames=r:"he"==b.lang&&(Number(f)<217?dayNames=s:dayNames=t),a("#"+e).append('<div class="jcal-day-title-wrap" id="jcal-day-title-wrap_'+x+'" dir="'+g+'"><div>'+dayNames[0]+"</div><div>"+dayNames[1]+"</div><div>"+dayNames[2]+"</div><div>"+dayNames[3]+"</div><div>"+dayNames[4]+"</div><div>"+dayNames[5]+"</div><div>"+dayNames[6]+'</div></div><div class="jcal-day-wrap" dir="'+g+'"></div>'),b.buttons?"en"==b.lang?a("#"+e).prepend('<div class="jcal-header" id="jcal-header_'+x+'"><div class="jcal-toolbar"><div class="jcal-left"><button class="jcal-button jcal-corner-left jcal-button-left" title="Previous month"><span class="jcal-icon jcal-icon-left-single-arrow"></span></button><button class="jcal-today-button jcal-button jcal-state-default jcal-corner-left jcal-corner-right jcal-state-disabled" disabled="disabled">today</button></div><div class="jcal-center"><div class="jcal-toolbar-title-date" id="jcal-toolbar-title-date_'+x+'"></div><button class="jcal-month-button jcal-button jcal-state-default jcal-corner-left jcal-state-disabled">month</button><button class="jcal-list-button jcal-button  jcal-corner-right">list</button></div><div class="jcal-right"><button class="jcal-button jcal-corner-right jcal-button-right" title="Next month"><span class="jcal-icon jcal-icon-right-single-arrow"></span></button></div></div></div>').append('<div class="jcal-event-list" id="jcal-event-list_'+x+'"></div>'):"he"==b.lang&&a("#"+e).prepend('<div class="jcal-header" id="jcal-header_'+x+'"><div class="jcal-toolbar"><div class="jcal-left"><button class="jcal-button jcal-corner-left jcal-button-right" title="חודש הבא"><span class="jcal-icon jcal-icon-left-single-arrow"></span></button><button class="jcal-today-button jcal-button jcal-state-default jcal-corner-left jcal-corner-right jcal-state-disabled" disabled="disabled">today</button></div><div class="jcal-center"><div class="jcal-toolbar-title-date" id="jcal-toolbar-title-date_'+x+'"></div><button class="jcal-month-button jcal-button jcal-state-default jcal-corner-left jcal-state-disabled">חודש</button><button class="jcal-list-button jcal-button  jcal-corner-right">רשימה</button></div><div class="jcal-right"><button class="jcal-button jcal-corner-right jcal-button-left" title="חודש קודם"><span class="jcal-icon jcal-icon-right-single-arrow"></span></button></div></div></div>').append('<div class="jcal-event-list" id="jcal-event-list_'+x+'" dir="rtl"></div>'):"en"==b.lang?a("#"+e).prepend('<div class="jcal-header" id="jcal-header_'+x+'"><div class="jcal-toolbar"><div class="jcal-left"><span class="jcal-prev jcal-icon jcal-icon-left-single-arrow" title="Previous month"></span></div><div class="jcal-center"><div class="jcal-toolbar-title-date" id="jcal-toolbar-title-date_'+x+'"></div><span class="jcal-list-month jcal-icon-list" id="jcal-reset_'+x+'" title="List view"></span></div><div class="jcal-right"><span class="jcal-next jcal-icon jcal-icon-right-single-arrow" title="Next month"></span></div></div></div>').append('<div class="jcal-event-list" id="jcal-event-list_'+x+'"></div>'):"he"==b.lang&&a("#"+e).prepend('<div class="jcal-header" id="jcal-header_'+x+'"><div class="jcal-toolbar"><div class="jcal-left"><span class="jcal-next jcal-icon jcal-icon-left-single-arrow" title="חודש הבא"></span></div><div class="jcal-center"><div class="jcal-toolbar-title-date" id="jcal-toolbar-title-date_'+x+'"></div><span class="jcal-list-month jcal-icon-list" id="jcal-reset_'+x+'" title="תצוגת רשימה"></span></div><div class="jcal-right"><span class="jcal-prev jcal-icon jcal-icon-right-single-arrow" title="חודש קודם"></span></div></div></div>').append('<div class="jcal-event-list" id="jcal-event-list_'+x+'"></div>'),
"jewish"==b.cal){var A=new Date(Number(i),Number(h)-1,Number(j)),B=new R(A);i=B.y,h=B.m,j=B.d}0==b.monthToView?D(h,i):D(b.monthToView[0],b.monthToView[1]),a(document.body).on("click","#"+e+" .jcal-next",function(a){J(b.cal),a.preventDefault(b.cal)}),a(document.body).on("click","#"+e+" .jcal-button-right",function(a){J(b.cal)}),a(document.body).on("click","#"+e+" .jcal-prev",function(a){K(b.cal),a.preventDefault()}),a(document.body).on("click","#"+e+" .jcal-button-left",function(a){K(b.cal)}),a(document.body).on("click","#"+e+" .jcal-reset",function(b){a("#"+e+" .jcal-reset").remove(),D(h,i),b.preventDefault(),b.stopPropagation()}),a(document.body).on("click","#"+e+" .jcal-today-button",function(b){a("#"+e+" .jcal-today-button").addClass("jcal-state-default jcal-state-disabled").attr("disabled","disabled"),D(h,i)}),a(document.body).on("click","#"+e+" a.jcal-day",function(a){a.preventDefault(),a.stopPropagation()}),a(document.body).on("click","#"+e+" .jcal-event-indicator",function(c){var e,d=a(this).parent().parent().data("number");"en"==b.lang?e="Month view":"he"==b.lang&&(e="תצוגת חודש"),L(d,e),k="listMode"}),a(document.body).on("click","#"+e+" .jcal-more-events",function(c){var e,d=a(this).parent().data("number");"en"==b.lang?e="Month view":"he"==b.lang&&(e="תצוגת חודש"),L(d,e),k="listMode"}),b.buttons?a(document.body).on("click","#"+e+" .jcal-list-button",function(c){k="listMode";a(this).parent().parent().data("number");a("#"+e+" .jcal-event-list").show(),a("#"+e+" .jcal-event-list").css("transform"),a("#"+e+" .jcal-event-list").css("transform","scale(1)"),a("#"+e+" .item-has-event").show(),a("#"+e+" .jcal-list-button").addClass("jcal-state-default jcal-state-disabled").attr("disabled","disabled"),a("#"+e+" .jcal-month-button").removeClass("jcal-state-default jcal-state-disabled").removeAttr("disabled"),b.jQueryui&&(a("#"+e+" .jcal-list-button").addClass("ui-state-disabled"),a("#"+e+" .jcal-month-button").removeClass("ui-state-disabled"))}):a(document.body).on("click","#"+e+" .jcal-list-month",function(c){if("monthMode"==k){k="listMode";a(this).parent().parent().data("number");a("#"+e+" .jcal-event-list").show(),a("#"+e+" .jcal-event-list").css("transform"),a("#"+e+" .jcal-event-list").css("transform","scale(1)");var f="";"en"==b.lang?f="Month view":"he"==b.lang&&(f="תצוגת חודש"),a("#"+e+" .item-has-event").show(),a("#"+e+" .jcal-list-month").addClass("jcal-icon-month").removeClass("jcal-icon-list").attr("title",f)}else{k="monthMode",a("#"+e+" .jcal-event-list").css("transform","scale(0)"),setTimeout(function(){a("#"+e+" .jcal-event-list").hide()},250);var g="";"en"==b.lang?g="List view":"he"==b.lang&&(g="תצוגת רשימה"),a("#"+e+" .jcal-list-month").addClass("jcal-icon-list").removeClass("jcal-icon-month").attr("title",g),a("#"+e+" .jcal-right").show(),a("#"+e+" .jcal-left").show()}}),b.buttons&&a(document.body).on("click","#"+e+" .jcal-month-button",function(c){k="monthMode",a("#"+e+" .jcal-event-list").css("transform","scale(0)"),setTimeout(function(){a("#"+e+" .jcal-event-list").hide()},250),a("#"+e+" .jcal-month-button").addClass("jcal-state-default jcal-state-disabled").attr("disabled","disabled"),a("#"+e+" .jcal-list-button").removeClass("jcal-state-default jcal-state-disabled").removeAttr("disabled"),b.jQueryui&&(a("#"+e+" .jcal-list-button").removeClass("ui-state-disabled"),a("#"+e+" .jcal-month-button").addClass("ui-state-disabled")),a("#"+e+" .jcal-right").show(),a("#"+e+" .jcal-left").show()}),a(document.body).on("click","#"+e+" .listed-event",function(b){var c=a(this).attr("href");c||b.preventDefault()})}})}(jQuery);
